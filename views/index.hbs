<div class="book">
  <div class="page">
    <h1>{{title}}</h1>
    <p>Welcome, {{user.username}}!</p>

    <button class="pencil-button" onclick="openForm()">✏️</button>

    {{#if memory.length}}
      <h2>Your Memories:</h2>
      {{#each memory}}
        <div class="memory-entry">
          <h3>{{this.title}}</h3>
          <p class="author">Author: {{this.author}}</p>
          <p class="date">Date: {{this.date}}</p>
          <p>{{this.description}}</p>

          <button class="edit-button" onclick="window.location.href='/edit-memory/{{this._id}}'">Edit</button>
          <form action="/delete-memory/{{this._id}}" method="POST" style="display:inline;">
            <input type="hidden" name="_method" value="DELETE" />
            <button type="submit" class="delete-button">Delete</button>
          </form>
        </div>
      {{/each}}
    {{else}}
      <p>No memories found.</p>
    {{/if}}

    <div id="postFormOverlay" class="form-overlay" style="display: none;">
      <div id="postForm" class="form-container">
        <h2>Add a new memory</h2>
        <form action="/add-memory" method="POST">
          <label for="title">Title:</label>
          <input type="text" id="title" name="title" required>

          <label for="author">Author:</label>
          <input type="text" id="author" name="author" required>

          <label for="date">Date:</label>
          <input type="date" id="date" name="date" required>

          <label for="description">Description:</label>
          <textarea id="description" name="description" required></textarea>

          <button type="submit">Add Memory</button>
          <button type="button" onclick="closeForm()">Cancel</button>
        </form>
      </div>
    </div>

    <p><a href="/users/logout">Sign Out</a></p>
  </div>
</div>
